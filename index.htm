<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will you be my Valentine?</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Floating hearts layer -->
  <div id="hearts-layer" aria-hidden="true"></div>

  <main class="card" role="main">
    <p class="to-line" id="toLine"></p>

    <h1 id="mainMessage">Will you be my Valentine? ğŸ’–</h1>
    <p class="sub" id="subMessage">I promise to stop being annoying and lazy and a fatass.</p>

    <div class="btn-row" id="btnRow">
      <button id="yesBtn" class="btn yes">YES</button>
      <button id="noBtn" class="btn no">No</button>
    </div>

    <p class="hint" id="hint">Tip: Don't you fkn dare press "No".</p>

    <section class="panel planner hidden" id="planner">
      <h2>Yay! Letâ€™s plan our date ğŸ’˜</h2>
        
        <!-- JS will render activity picker OR calendar here -->
        <div id="plannerView"></div>

        <div class="planner-actions">
            <button id="donePlanningBtn" class="btn yes">Done planning â¡ï¸ Games</button>
            <button id="cancelPlanBtn" class="btn secondary">Back</button>
        </div>

      <p class="tiny" id="planHint">Tip: pick an activity we can do ğŸ˜</p>

      <div class="planner-export">
        <button id="exportTxtBtn" class="btn secondary">Export plans as text ğŸ’Œ</button>
      </div>

    </section>

    <section class="panel games hidden" id="gamesMenu">
      <h2>Pick a game ğŸ®</h2>
      <p class="tiny">Please play them all I worked hard on em. TY!</p>

      <div class="games-list">
        <button class="btn yes" id="photoGameBtn">Photo Mini Game ğŸ“¸ğŸ’</button>
        <button class="btn yes" id="scratchGameBtn">Scratch to Reveal âœ¨ğŸª™</button>
        <button class="btn yes" id="memoryGameBtn">Memory Match ğŸ§ ğŸ’˜</button>
        <button class="btn secondary" disabled>Game 4 (coming soon)</button>
      </div>

      <div class="games-actions">
        <button class="btn secondary" id="gamesBackBtn">Back</button>
        <button class="btn yes" id="gamesContinueBtn">Continue ğŸ’˜</button>
      </div>
    </section>

    <section class="panel carousel hidden" id="carousel">
      <h2 class="carousel-title">Unlock our photos ğŸ’</h2>
      <p class="tiny" id="gamePrompt">Find the hidden heart to reveal the next photo ğŸ‘€</p>

      <div class="game-area" id="gameArea">
        <img id="carouselImg" class="game-photo hidden" alt="Cute photo" />

        <div class="game-overlay" id="gameOverlay">
          <div class="lock-text" id="lockText">ğŸ”’ Locked</div>
          <div class="hint-text" id="hintText">Click around to find the heart ğŸ’˜</div>
        </div>

        <div class="ping hidden" id="ping"></div>

        <div class="carousel-badge" id="carouselBadge">0 / 3</div>
      </div>

      <p class="tiny" id="gameStatus">0 / 3 photos unlocked</p>

      <div class="carousel-actions">
        <button class="btn yes hidden" id="nextPhotoBtn">Next photo âœ</button>
        <button class="btn secondary" id="backBtn">Back</button>
      </div>

      <!-- Final action -->
      <button class="btn yes hidden" id="continueBtn">Continue ğŸ’˜</button>
    </section>
    
    <section class="panel scratch hidden" id="scratchGame">
      <h2>Scratch to Reveal âœ¨ğŸª™</h2>
      <p class="tiny">Scratch the grey layer to reveal the photo!</p>

      <div class="scratch-area">
        <img id="scratchImg" class="scratch-photo" src="" alt="Scratch photo" />
        <canvas id="scratchCanvas" width="300" height="300"></canvas>
      </div>

      <div class="scratch-actions">
        <button class="btn secondary" id="scratchBackBtn">Back</button>
        <button class="btn yes hidden" id="scratchContinueBtn">Continue ğŸ’˜</button>
      </div>
    </section>

    <section class="panel memory hidden" id="memoryGame">
      <h2>Memory Match ğŸ§ ğŸ’˜</h2>
      <p class="tiny" id="memoryStatus">Match all the pairs to continue!</p>

      <div class="memory-grid" id="memoryGrid" aria-label="Memory grid"></div>

      <div class="memory-actions">
        <button class="btn secondary" id="memoryBackBtn">Back</button>
        <button class="btn yes hidden" id="memoryContinueBtn">Continue ğŸ’˜</button>
      </div>
    </section>

    <section class="panel result hidden" id="result">
      <h2 id="resultTitle">YAYYYYY!!! ğŸ’˜ Let's plan some stuff together.</h2>  
      <p id="resultText">You made the right choice young one. Hehe!</p>
      <button id="restartBtn" class="btn secondary">Replay</button>
      
    </section>

    <audio id="bgMusic" preload="auto" loop>
      <!-- Option A: use your own file by placing it in the folder and naming it music.mp3 -->
      <source src="music.mp3" type="audio/mpeg" />
    </audio>
  </main>

  <!-- Confetti canvas -->
  <canvas id="confetti" aria-hidden="true"></canvas>

  <script src="script.js"></script>
</body>
</html>
